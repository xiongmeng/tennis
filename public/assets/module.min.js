define("court/manage",["knockout","knockout_mapping","knockout_switch_case","rest","bootbox","kkcountdown"],function(a){function b(a,b,g){$.extend(e,g);var h=new f(d.fromJS(b));c.applyBindings(h,a)}var c=a("knockout"),d=a("knockout_mapping");a("knockout_switch_case"),a("rest"),a("bootbox"),a("kkcountdown");var e={submitUrl:""},f=function(a){function b(a){var b=[];$.each(f.selected(),function(a,c){b.push(c.id())});var c=$.restPost("/instantOrder/batchOperate",{operate:a,instant_order_ids:b.join(",")});c.done(function(){window.location.reload()}),c.fail(function(){})}function e(a){var b=[],e=0;$.each(f.selected(),function(a,c){b.push(c.id()),e+=parseInt(c.quote_price())});var g="共选取<mark>"+b.length+"</mark>个时段，共计<mark>"+e+"</mark>元";bootbox.confirm(g,function(e){if(e){var f=$.restPost(a,{instant_order_ids:b.join(",")});f.done(function(a,b){"no_money"==b.status?($modalDom=$("#dialog-go-to-pay"),$model=d.fromJS(b),c.applyBindings($model,$modalDom[0]),$modalDom.modal().on("hidden.bs.modal",function(){window.location.reload()})):"pay_success"==b.status&&bootbox.alert("恭喜您，购买成功！您可以在已购买订单里面查看详情！").on("hidden.bs.modal",function(){window.location.reload()})})}})}var f=a;return f.selected=c.observableArray(),f.currentState=c.observable(""),f.selected.subscribe(function(a){var b=a.length;if(0>=b)f.currentState("");else{var c=a[b-1];f.currentState(c.state())}}),f.select=function(a){a.select()?(a.select(!1),f.selected.remove(a)):(""==f.currentState()||f.currentState()==a.state())&&(a.select(!0),f.selected.push(a))},f.batchOnline=function(){b("online")},f.batchOffline=function(){b("offline")},f.batchCancelBuy=function(){b("cancel_buy")},f.batchBuy=function(){e("/instantOrder/batchBuy")},f.batchPay=function(){e("/instantOrder/batchPay")},f};return{init:b}}),define("hall/hall",["knockout","knockout_mapping","rest","knockout_plupload","knockout_area"],function(a){var b=a("knockout"),c=a("knockout_mapping");a("rest"),a("knockout_plupload"),a("knockout_area");var d=function(a){var c=this;c.id=b.observable(a.id),c.hall_id=b.observable(a.hall_id),c.path=b.observable(a.path)},e=function(a){var c=this;c.id=b.observable(a.id),c.hall_id=b.observable(a.hall_id),c.type=b.observable(a.type),c.start_week=b.observable(a.start_week),c.end_week=b.observable(a.end_week),c.start=b.observable(a.start),c.end=b.observable(a.end),c.price=b.observable(a.price)},f=function(a){var c=this;c.id=b.observable(a.id),c.hall_id=b.observable(a.hall_id),c.court_type=b.observable(a.court_type),c.name=b.observable(a.name),c.market=b.observable(a.market),c.member=b.observable(a.member),c.vip=b.observable(a.vip),c.purchase=b.observable(a.purchase)},g=function(a){var c=this;c.id=a.id,c.hall_id=a.hall_id,c.name=b.observable(a.name),c.count=b.observable(a.count)},h=function(a){var c=this;c.id=a.id,c.hall_id=a.hall_id,c.long=b.observable(a.long),c.lat=b.observable(a.lat),c.baidu_code=b.observable(a.baidu_code)},i=function(a){var c=this;c.user_id=a.user_id,c.nickname=b.observable(a.nickname),c.receive_sms_telephone=b.observable(a.receive_sms_telephone),c.init_password=b.observable(a.init_password)};return function(a){function j(a){if(k.business.start(""),k.business.end(""),a){var b=a.split("-");k.business.start(parseInt(b[0])),k.business.end(parseInt(b[1]))}}var k=this;return k.id=b.observable(a.id),k.detail_url=b.computed(function(){return"/hall/detail/"+k.id()}),k.name=b.observable(a.name),k.code=b.observable(a.code),k.telephone=b.observable(a.telephone),k.linkman=b.observable(a.linkman),k.area_text=b.observable(a.area_text),k.sort=b.observable(a.sort),k.business=b.observable(a.business),k.business.start=b.observable(),k.business.end=b.observable(),k.business.subscribe(function(a){j(a)}),j(a.business),k.air=b.observable(a.air),k.bath=b.observable(a.bath),k.park=b.observable(a.park),k.thread=b.observable(a.thread),k.good=b.observable(a.good),k.comment=b.observable(a.comment),k.court_name=b.observable(a.court_name),k.court_num=b.observable(a.court_num),k.map=b.observable(new h(a.map||{})),k.user=b.observable(new i(a.users&&a.users.length>0?a.users[0]:{})),k.courtGroup=b.observable(new g(a.court_group||{})),k.hall_prices=b.observableArray(function(){var b=[];return $.each(a.hall_prices||{},function(a,c){b.push(new f(c))}),b.push(new f({hall_id:a.id})),b}()),k.hall_markets=b.observableArray(function(){var b=[];return $.each(a.hall_markets||{},function(a,c){b.push(new e(c))}),b.push(new e({hall_id:a.id})),b}()),k.types=[{id:1,name:"节假日"},{id:2,name:"平时"}],k.weeks=[{id:1,name:"周一"},{id:2,name:"周二"},{id:3,name:"周三"},{id:4,name:"周四"},{id:5,name:"周五"},{id:6,name:"周六"},{id:7,name:"周日"}],k.hours=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],k.envelope=b.observable(new d(a.envelope||{})),k.image=b.observable(a.image),k.images=b.observable(),k.images.plupload_cfg={url:"/hall/saveImage/"+a.id,upload_limit:8,filters:[{title:"Custom files",extensions:"gif,png,bmp,jpg,jpeg"}],max_file_size:"5mb",responseParser:function(a){return a&&1e3==a.code&&window.location.reload(),!0}},k.hall_images=b.observableArray(function(){var b=[];return $.each(a.hall_images||{},function(a,c){b.push(new d(c))}),b.push(new d({hall_id:a.id})),b}()),k.head_url=b.computed(function(){var a="http://gotennis.cn";return k.envelope().id()?a+k.envelope().path():k.hall_images().length>0?a+k.hall_images()[0].path():""}),k.head_wx_url=b.computed(function(){return"http://wangqiuer.com/Images/weixinImage/CourtPic/"+k.id()+".jpg"}),k.area=b.observable(a.area).extend({area:a}),k.generateUser=function(){var a=c.toJS(k.user);if(confirm("确认要为此场馆添加用户吗？")){var b=$.restPost("/hall/generateUser/"+k.id(),a);b.done(function(){window.location.reload()})}},k.saveMap=function(){var a=c.toJS(k.map),b=$.restPost("/hall/saveMap/"+k.id(),a);b.done(function(){window.location.reload()})},k.saveCourtGroup=function(){var a=c.toJS(k.courtGroup),b=$.restPost("/hall/saveCourtGroup/"+k.id(),a);b.done(function(){window.location.reload()})},k.savePrice=function(a){var b=c.toJS(a),d=$.restPost("/hall/savePrice/"+k.id(),b);d.done(function(){window.location.reload()})},k.deletePrice=function(a){var b=$.restPost("/hall/deletePrice/"+a.id());b.done(function(){window.location.reload()})},k.saveMarket=function(a){var b=c.toJS(a),d=$.restPost("/hall/saveMarket/"+k.id(),b);d.done(function(){window.location.reload()})},k.deleteMarket=function(a){var b=$.restPost("/hall/deleteMarket/"+a.id());b.done(function(){window.location.reload()})},k.deleteImage=function(a){var b=$.restPost("/hall/deleteImage/"+a.id());b.done(function(){window.location.reload()})},k.setEnvelope=function(a){var b=$.restPost("/hall/setEnvelope/"+a.hall_id()+"/"+a.id());b.done(function(){window.location.reload()})},k.update=function(){var a={};a.name=k.name(),a.code=k.code(),a.telephone=k.telephone(),a.linkman=k.linkman(),a.province=k.area.province(),a.city=k.area.city(),a.county=k.area.county(),a.area_text=k.area_text(),a.sort=k.sort(),a.business=k.business(),a.air=k.air(),a.bath=k.bath(),a.park=k.park(),a.thread=k.thread(),a.good=k.good(),a.comment=k.comment();var b=$.restPost("/hall/update/"+k.id(),a);b.done(function(){window.location.reload()})},k}}),define("hall/holiday",["knockout","knockout_mapping","rest","knockout_phpTsToDate","knockout_options"],function(a){var b=a("knockout"),c=a("knockout_mapping");a("rest"),a("knockout_phpTsToDate"),a("knockout_options");var d=function(a){var c=this;c.id=b.observable(a.id),c.date=b.observable(a.date).extend({phpTsToDate:""}),c.type=b.observable(a.type).extend({options:[{id:1,name:"节假日"},{id:2,name:"平时"}]}),c.created_at=b.observable(a.created_at),c.updated_at=b.observable(a.updated_at)};return function(a){var e=this;return e.holidays=b.observableArray(function(){var b=[new d({})];return $.each(a||{},function(a,c){b.push(new d(c))}),b}()),e.save=function(a){var b=c.toJS(a),d=$.restPost("/holiday/save",b);d.done(function(){window.location.reload()})},e.remove=function(a){var b=$.restPost("/holiday/remove/"+a.id());b.done(function(){window.location.reload()})},e}}),define("hall/list",["knockout","knockout_mapping","hall/hall","pagination","rest","knockout_area"],function(a){var b=a("knockout"),c=(a("knockout_mapping"),a("hall/hall")),d=a("pagination");return a("rest"),a("knockout_area"),function(a){var e=function(a){var c=this;c.id=b.observable(a.id),c.name=b.observable(a.name),c.area=b.observable().extend({area:a}),c.court_name=b.observable(a.court_name),c.area_text=b.observable(a.area_text),c.stat=b.observable(a.stat)};a.url||(a.url="/hall/search");var f=new d(c,e,a);return f}}),define("image",["knockout"],function(a){function b(a){var b=this,d="/img/uploadimg/weixin_follower_img/";b.id=c.observable(a.id),b.name=a.name,b.path=c.observable(a.path),b.src=c.computed({read:function(){return b.path()?d+b.path():"/img/miss.jpg"},write:function(a){var c=a.lastIndexOf(d);b.path(-1!=c?a.substring(c+d.length):"")}}),b.key=function(){switch(a.id){case 101:return"screen_shot_followers";case 102:return"screen_portrait";case 103:return"screen_shot_qr_code";case 104:return"screen_shot_info";default:return""}}()}var c=a("knockout");return c.extenders.image=function(a,b){return a.full_path=c.computed(function(){var c=b.defaultImage||"/resources/images/weixin_no_img_default.gif",d=a();return d?b.viewBasePath+d:c}),a.plupload_cfg={url:"/upload",upload_limit:8,viewBasePath:"/uploadfiles/",filters:[{title:"Custom files",extensions:"gif,png,bmp,jpg,jpeg"}],max_file_size:"5mb",responseParser:function(a){return a&&a.success||1e3==a.code?{path:a.filename||a.data.filename,id:a.file_id}:{error:a.error||a.msg||"文件上传失败"}}},$.extend(a.plupload_cfg,b),a},b}),define("notify/notify",["knockout","knockout_mapping","knockout_switch_case","rest"],function(a){function b(a){return a?$.map(a,function(a,b){return{id:b,name:a}}):{}}function c(a,c,h){$.extend(f,h),c.events=b(c.events),c.channels=b(c.channels);var i=new g(e.fromJS(c));d.applyBindings(i,a)}var d=a("knockout"),e=a("knockout_mapping");a("knockout_switch_case"),a("rest");var f={submitUrl:""},g=function(a){function b(){if(c.who(""),c.msg(""),c.event()&&c.channel()&&c.object()){var a=$.restGet("/notify/getRecord",{event:c.event(),channel:c.channel(),object:c.object()});a.done(function(a,b){c.who(b.who),c.msg(b.msg)}),a.fail(function(){console.log(arguments)})}}var c=a;return c.event=d.observable(),c.event.subscribe(function(){}),c.channel=d.observable(),c.who=d.observable(),c.msg=d.observable(),c.refresh=d.computed(function(){b()}),c.send=function(){if(c.event()&&c.channel()&&c.object()&&c.who()&&c.msg()&&confirm("确认要发送此通知吗？")){var a=$.restPost("/notify/send",{event:c.event(),channel:c.channel(),object:c.object(),who:c.who(),msg:c.msg()});a.done(function(){window.location.href="/notify/record"}),a.fail(function(){console.log(arguments)})}},c};return{init:c}}),define("option",[],function(){return function(){var a=this;return a.event_date=function(){var a=[],b=new Date,c=1;do{var d=b.getMonth()+1+"-"+b.getDate();a.push({id:b.getFullYear()+"-"+d,name:d}),b.setDate(b.getDate()+1),c++}while(7>=c);return a}(),a.hour=[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],a.court_num=[1,2,3,4,5,6],a.tennis_level=[{id:1,name:"1.0"},{id:2,name:"2.0"},{id:3,name:"3.0"},{id:4,name:"3.5"},{id:5,name:"4.0"},{id:6,name:"4.5"},{id:7,name:"5.0"},{id:8,name:"更高"}],a.content=[{id:1,name:"单打"},{id:2,name:"双打"},{id:3,name:"混双"},{id:4,name:"练习"},{id:5,name:"比赛"}],a.sexy=[{id:-1,name:"不限"},{id:1,name:"女"},{id:2,name:"男"}],a}()}),define("pagination",["knockout","knockout_mapping"],function(a){var b=a("knockout"),c=a("knockout_mapping");return function(a,d,e){function f(a,b,c){for(i=b;c>=i;i++)a.push({name:i})}function g(a){a.push({name:"..."})}function h(){var a=[],b=j.last_page(),c=j.current_page();if(13>b)f(a,1,b);else{var d=6;d>=c?(f(a,1,d+2),g(a),f(a,b-1,b)):c>=b-d?(f(a,1,2),g(a),f(a,b-8,b)):(f(a,1,2),g(a),f(a,c-3,c+3),g(a),f(a,b-1,b))}return a}var j=this;j.cfg={model:"falls",per_page:10,url:"",relations:""},$.extend(j.cfg,e),j.total=b.observable(),j.per_page=b.observable(e.per_page),j.current_page=b.observable(1),j.last_page=b.observable(),j.from=b.observable(),j.to=b.observable(),j.data=b.observableArray(),j.queries=new d({}),j.cacheData=b.observableArray(),j.pages=b.observableArray(),j.inSearching=b.observable(!1),j.fillData=function(b){j.current_page(b.current_page||1),j.last_page(b.last_page||1),j.total(b.total||0),j.from(b.from||0),j.to(b.to||0),$.each(b.data||[],function(b,c){j.data.push(new a(c))}),j.cacheData.removeAll(),$.each(j.data(),function(a,b){j.cacheData.push(b)}),j.pages.removeAll(),j.pages(h())};var k=function(a){"page"==j.cfg.model&&j.data.removeAll();var b=c.toJS(j.queries);b.page=a||j.current_page(),b.per_page=j.cfg.per_page,b.relations=j.cfg.relations,j.inSearching(!0);var d=$.restGet(j.cfg.url,b);d.done(function(a,b){j.fillData(b)}),d.always(function(){j.inSearching(!1)})};return j.pre=function(){k(j.current_page()-1)},j.next=function(){k(j.current_page()+1)},j.search=function(){j.data.removeAll(),k(1)},j.go=function(a){k(a.name)},j.clear=function(){j.fillData({})},j}}),define("reserve_order/order",["knockout","knockout_mapping","rest","knockout_phpTsToDate","knockout_options","user/user","hall/hall"],function(a){var b=a("knockout"),c=a("knockout_mapping");a("rest"),a("knockout_phpTsToDate"),a("knockout_options");var d=a("user/user"),e=a("hall/hall");return function(a){function f(){var a=c.toJS(g);return{id:a.id,user_id:a.user.user_id,hall_id:a.hall.id,event_date:a.event_date,start_time:a.start_time,end_time:a.end_time,court_num:a.court_num}}var g=this;return g.id=b.observable(a.id),g.user_id=b.observable(a.user_id),g.user=b.observable(new d(a.user||{})),g.hall_id=b.observable(a.hall_id),g.hall=b.observable(new e(a.hall||{})),g.event_date=b.observable(a.event_date).extend({phpTsToDate:"",options:a.dates||{}}),g.start_time=b.observable(a.start_time),g.start_time_option=b.computed(function(){var a=g.hall().business.start(),b=g.hall().business.end(),c=[];for(a;b>a;a++)c.push(a);return c}),g.end_time=b.observable(a.end_time),g.end_time_option=b.computed(function(){var a=g.start_time()+1,b=g.hall().business.end(),c=[];for(a;b>=a;a++)c.push(a);return c}),g.court_num=b.observable(a.court_num),g.court_num_option=[1,2,3,4,5,6],g.cost=b.observable(a.cost),g.cost_text=b.observable(a.cost_text),g.stat=b.observable(a.stat),g.callback_saved=function(){},g.create=function(){var a=$.restPost("/reserve/save",f());return a.done(function(a,b){g.callback_saved(b.order)}),a.fail(function(a){alert(a)}),a},g.calculate=function(){var a=$.restPost("/reserve/calculate",f());return a.done(function(a,b){g.cost(b.order.cost)}),a.fail(function(a){alert(a)}),a},g}}),define("seeking/list",["knockout","knockout_mapping","seeking/seeking","option","rest","knockout_options"],function(a){var b=a("knockout"),c=a("knockout_mapping"),d=a("seeking/seeking"),e=a("option");return a("rest"),a("knockout_options"),function(a,f,g){function h(a){"page"==j.cfg.model&&j.seekingList.removeAll(),$.each(a,function(a,b){j.seekingList.push(new d(b))})}function i(a){j.current_page(a.current_page),j.last_page(a.last_page),j.per_page(a.per_page),j.total(a.total)}var j=this;j.cfg={model:"falls",per_page:10},$.extend(j.cfg,g);var k=function(a){var c=this;c.state=b.observable(a.state),c.hall_name=b.observable(a.hall_name),c.tennis_level=b.observable(a.tennis_level).extend({options:e.tennis_level}),c.event_date=b.observable(a.event_date).extend({options:e.event_date})};j.seekingList=b.observableArray(),h(a||{}),j.queries=new k(f||{}),j.current_page=b.observable(1),j.last_page=b.observable(),j.per_page=b.observable(j.cfg.per_page),j.total=b.observable(),j.inSearching=b.observable(!1);var l=function(a){var b=c.toJS(j.queries);b.page=a||j.current_page(),b.per_page=j.per_page(),j.inSearching(!0);var d=$.restGet("/seeking/search",b);d.done(function(a,b){i(b),h(b.data),j.inSearching(!1)})};return j.loadNextPage=function(){l(j.current_page()+1)},j.search=function(){j.seekingList.removeAll(),l(1)},j.clear=function(){h({})},j}}),define("seeking/seeking",["knockout","knockout_mapping","rest","knockout_options","hall/hall"],function(a){{var b=a("knockout");a("knockout_mapping")}a("rest"),a("knockout_options");a("hall/hall");return function(a){function c(){return{id:d.id(),event_date:d.event_date(),start_hour:d.start_hour(),end_hour:d.end_hour(),hall_id:d.hall_id(),court_num:d.court_num(),tennis_level:d.tennis_level(),sexy:d.sexy(),on_sale:d.on_sale(),store:d.store(),personal_cost:d.personal_cost(),content:d.content().join(" "),comment:d.comment()}}var d=this;return d.id=b.observable(a.id),d.detail_url=b.computed(function(){return"/seeking/detail/"+d.id()}),d.state=b.observable(a.state),d.event_date=b.observable(a.event_date),d.start_hour=b.observable(a.start_hour).extend({options:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]}),d.end_hour=b.observable(a.end_hour),d.end_hour_option=b.computed(function(){var a=d.start_hour()+1,b=[];for(a;24>=a;a++)b.push(a);return b}),d.hall_id=b.observable(a.hall_id),d.hall_name=b.observable(a.hall_name),d.court_num=b.observable(a.court_num).extend({options:[1,2,3,4,5,6]}),d.tennis_level=b.observable(a.tennis_level).extend({options:[{id:1,name:"1.0"},{id:2,name:"2.0"},{id:3,name:"3.0"},{id:4,name:"3.5"},{id:5,name:"4.0"},{id:6,name:"4.5"},{id:7,name:"5.0"},{id:8,name:"更高"}]}),d.content=b.observableArray(function(){return a.content?a.content.split(" "):""}()).extend({options:[{id:1,name:"单打"},{id:2,name:"双打"},{id:3,name:"混双"},{id:4,name:"练习"},{id:5,name:"比赛"}]}),d.sexy=b.observable(a.sexy).extend({options:[{id:-1,name:"不限"},{id:1,name:"女"},{id:2,name:"男"}]}),d.personal_cost=b.observable(a.personal_cost),d.on_sale=b.observable(a.on_sale),d.store=b.observable(a.store),d.creator=b.observable(a.creator),d.comment=b.observable(a.comment),d.save=function(){var a=$.restPost("/seeking/save",c());a.done(function(){console.log(arguments),window.location.href="/seeking/list"}),a.fail(function(a){alert(a)})},d}}),define("user/list",["knockout","knockout_mapping","user/user","rest","knockout_area"],function(a){var b=a("knockout"),c=a("knockout_mapping"),d=a("user/user");return a("rest"),a("knockout_area"),function(a,e,f){function g(a){h.userList.removeAll(),$.each(a,function(a,b){h.userList.push(new d(b))})}var h=this;h.cfg={relations:null},$.extend(h.cfg,f);var i=function(a){var c=this;c.user_id=b.observable(a.user_id),c.nickname=b.observable(a.nickname),c.telephone=b.observable(a.telephone)};return h.userList=b.observableArray(),g(a||{}),h.queries=new i(e||{}),h.search=function(){var a=c.toJS(h.queries);h.cfg.relations&&(a.relations=h.cfg.relations);var b=$.restGet("/user/search",a);b.done(function(a,b){g(b.users.data)})},h.clear=function(){g({})},h}}),define("user/user",["knockout","knockout_mapping","rest","knockout_plupload","knockout_area","knockout_options"],function(a){{var b=a("knockout");a("knockout_mapping")}return a("rest"),a("knockout_plupload"),a("knockout_area"),a("knockout_options"),function(a){var c=this,d=function(a){var c=this;c.id=b.observable(a.id),c.user_id=b.observable(a.user_id),c.role_id=b.observable(a.role_id).extend({options:[{id:1,name:"球友"},{id:2,name:"管理员"},{id:3,name:"场馆"},{id:999,name:"开发"}]}),c.created_at=b.observable(a.created_at)},e=[{id:1,name:"普通会员"},{id:2,name:"vip会员"}];return c.user_id=b.observable(a.user_id),c.detail_url=b.computed(function(){return"/user/detail/"+c.user_id()}),c.nickname=b.observable(a.nickname),c.telephone=b.observable(a.telephone),c.balance=b.observable(a.balance),c.privilege=b.observable(a.privilege).extend({options:e}),c.roles=b.observableArray(function(){var b=[];return $.each(a.roles||{},function(a,c){b.push(new d(c))}),b.push(new d({user:a.id})),b}()),c.saveRole=function(a){var b=$.restPost("/role/save/"+c.user_id()+"/"+a.role_id(),{id:a.id()});b.done(function(){window.location.reload()})},c.deleteRole=function(a){var b=$.restPost("/role/delete/"+a.id());b.done(function(){window.location.reload()})},c}}),define("util",[],function(){return function(){Date.prototype.format=function(a){var b=this,c=function(a,b){b||(b=2),a=String(a);for(var c=0,d="";c<b-a.length;c++)d+="0";return d+a};return a.replace(/"[^"]*"|'[^']*'|\b(?:d{1,4}|M{1,4}|yy(?:yy)?|([hHmstT])\1?|[lLZ])\b/g,function(a){switch(a){case"d":return b.getDate();case"dd":return c(b.getDate());case"ddd":return["Sun","Mon","Tue","Wed","Thr","Fri","Sat"][b.getDay()];case"dddd":return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][b.getDay()];case"M":return b.getMonth()+1;case"MM":return c(b.getMonth()+1);case"MMM":return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][b.getMonth()];case"MMMM":return["January","February","March","April","May","June","July","August","September","October","November","December"][b.getMonth()];case"yy":return String(b.getFullYear()).substr(2);case"yyyy":return b.getFullYear();case"h":return b.getHours()%12||12;case"hh":return c(b.getHours()%12||12);case"H":return b.getHours();case"HH":return c(b.getHours());case"m":return b.getMinutes();case"mm":return c(b.getMinutes());case"s":return b.getSeconds();case"ss":return c(b.getSeconds());case"l":return c(b.getMilliseconds(),3);case"L":var d=b.getMilliseconds();return d>99&&(d=Math.round(d/10)),c(d);case"tt":return b.getHours()<12?"am":"pm";case"TT":return b.getHours()<12?"AM":"PM";case"Z":return b.toUTCString().match(/[A-Z]+$/);default:return a.substr(1,a.length-2)}})}}()});